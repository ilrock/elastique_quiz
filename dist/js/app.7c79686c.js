(function(t){function e(e){for(var n,o,i=e[0],c=e[1],l=e[2],d=0,f=[];d<i.length;d++)o=i[d],r[o]&&f.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(f.length)f.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,i=1;i<a.length;i++){var c=a[i];0!==r[c]&&(n=!1)}n&&(s.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={app:0},s=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var n=a("c21b"),r=a.n(n);r.a},"219c":function(t,e,a){"use strict";var n=a("b6be"),r=a.n(n);r.a},"4b71":function(t,e,a){"use strict";var n=a("956b"),r=a.n(n);r.a},"562f":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("744f"),a("6c7b"),a("7514"),a("20d6"),a("1c4c"),a("6762"),a("cadf"),a("e804"),a("55dd"),a("d04f"),a("c8ce"),a("217b"),a("7f7f"),a("f400"),a("7f25"),a("536b"),a("d9ab"),a("f9ab"),a("32d7"),a("25c9"),a("9f3c"),a("042e"),a("c7c6"),a("f4ff"),a("049f"),a("7872"),a("a69f"),a("0b21"),a("6c1a"),a("c7c62"),a("84b4"),a("c5f6"),a("2e37"),a("fca0"),a("7cdf"),a("ee1d"),a("b1b1"),a("87f3"),a("9278"),a("5df2"),a("04ff"),a("f751"),a("4504"),a("fee7"),a("ffc1"),a("0d6d"),a("9986"),a("8e6e"),a("25db"),a("e4f7"),a("b9a1"),a("64d5"),a("9aea"),a("db97"),a("66c8"),a("57f0"),a("165b"),a("456d"),a("cf6a"),a("fd24"),a("8615"),a("551c"),a("097d"),a("df1b"),a("2397"),a("88ca"),a("ba16"),a("d185"),a("ebde"),a("2d34"),a("f6b3"),a("2251"),a("c698"),a("a19f"),a("9253"),a("9275"),a("3b2b"),a("3846"),a("4917"),a("a481"),a("28a5"),a("386d"),a("6b54"),a("4f7f"),a("8a81"),a("ac4d"),a("8449"),a("9c86"),a("fa83"),a("48c0"),a("a032"),a("aef6"),a("d263"),a("6c37"),a("9ec8"),a("5695"),a("2fdb"),a("d0b0"),a("b54a"),a("f576"),a("ed50"),a("788d"),a("14b9"),a("f386"),a("f559"),a("1448"),a("673e"),a("242a"),a("c66f"),a("b05c"),a("34ef"),a("6aa2"),a("15ac"),a("af56"),a("b6e4"),a("9c29"),a("63d9"),a("4dda"),a("10ad"),a("c02b"),a("4795"),a("130f"),a("ac6a"),a("96cf");var n=a("2b0e"),r=a("ce5b"),s=a.n(r);a("bf40");n["default"].use(s.a,{});var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-content",{staticClass:"yellow lighten-1"},[a("v-container",{staticClass:"fill-height",attrs:{"grid-list-xs":""}},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view",{key:t.$route.fullPath})],1)],1)],1)],1)},i=[],c={name:"app",created:function(){this.$store.dispatch("fetchQuestions"),this.$store.dispatch("fetchLeaderboard")}},l=c,u=(a("034f"),a("2877")),d=Object(u["a"])(l,o,i,!1,null,null,null);d.options.__file="App.vue";var f=d.exports,v=a("8c4f"),p=a("2f62"),h=a("bc3a"),m=a.n(h),b=function(){return m.a.create({withCredentials:!1,headers:{Accept:"application/json","Content-Type":"application/json"}})},w=function(){return b().get("//opentdb.com/api.php?amount=5&category=9&difficulty=easy&type=multiple&encode=url3986")},g={state:{questions:[]},getters:{questions:function(t){return t.questions},question:function(t){return function(e){return t.questions.filter(function(t){return t.id.toString()===e.toString()})[0]}}},mutations:{setQuestions:function(t,e){t.questions=e}},actions:{fetchQuestions:function(t){var e=t.commit;e("toggleLoading",!0),w().then(function(t){var a=t.data.results.map(function(t,e){var a=decodeURIComponent(t.incorrect_answers).split(",").map(function(t){return{text:t,correct:!1}});return a.push({text:decodeURIComponent(t.correct_answer),correct:!0}),{id:++e,text:decodeURIComponent(t.question),answers:a}});e("setQuestions",a),setTimeout(function(){e("toggleLoading",!1)},1500)})}}},x={state:{score:0,player:null},getters:{score:function(t){return t.score},player:function(t){return t.player}},mutations:{addToScore:function(t,e){t.score+=e},setPlayer:function(t,e){t.player=e},resetScore:function(t){t.score=0}},actions:{addToScore:function(t,e){var a=t.commit;a("addToScore",e)},setPlayer:function(t,e){var a=t.commit,n=e.name;return new Promise(function(t){var e={name:n,avatar:"https://api.adorable.io/avatars/".concat(n)};a("setPlayer",e),t()})},resetScore:function(t){var e=t.commit;e("resetScore")}}},y=a("c23d"),_=a.n(y);a("b7aa"),a("e89a");_.a.initializeApp({apiKey:"AIzaSyCmVXlQIk9A3JNKCsKnjh4eDOwgVALUPj8",authDomain:"elastiquiz.firebaseapp.com",databaseURL:"https://elastiquiz.firebaseio.com",projectId:"elastiquiz",storageBucket:"elastiquiz.appspot.com",messagingSenderId:"449869151249"});var C=_.a,$=C.firestore(),q={timestampsInSnapshots:!0};$.settings(q);var j=$,L={state:{leaderboard:[]},getters:{leaderboard:function(t){return t.leaderboard.sort(function(t,e){return t.score<e.score})}},mutations:{setLeaderboard:function(t,e){t.leaderboard=e}},actions:{fetchLeaderboard:function(t){var e=t.commit,a=t.dispatch;e("toggleLoading",!0),j.collection("leaderboard").get().then(function(t){a("listenToLeaderboardChanges")})},listenToLeaderboardChanges:function(t){var e=t.commit;j.collection("leaderboard").onSnapshot(function(t){var a=t.docs.map(function(t){return t.data()});e("setLeaderboard",a)})},addToLeaderboard:function(){var t={name:x.state.player.name,score:x.state.score,avatar:x.state.player.avatar};return j.collection("leaderboard").doc(x.state.player.name).set(t)}}},S={state:{loading:!1},getters:{loading:function(t){return t.loading}},mutations:{toggleLoading:function(t,e){t.loading=e}}};n["default"].use(p["a"]);var k=new p["a"].Store({modules:{question:g,player:x,leaderboard:L,shared:S}}),A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xs":""}},[a("transition",{attrs:{name:"loader","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOutDown"}},[t.loading?a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"text-xs-center",attrs:{"d-flex":"","align-center":"","justify-center":"",xs12:""}},[a("loader")],1)],1):t._e()],1),a("transition",{attrs:{name:"getStarted","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOutDown"}},[a("v-layout",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"","justify-center":"","align-start":"",xs12:"",sm6:""}},[a("v-card",{staticClass:"elevation-4 mb-4"},[a("v-card-title",{staticClass:"title elevation-2",attrs:{"primary-title":""}},[t._v("\n                Let's get started\n              ")]),a("v-card-text",[a("v-form",{ref:"form"},[a("v-text-field",{attrs:{rules:t.rules.notEmpty,label:"What's your name, champion?"},model:{value:t.player.name,callback:function(e){t.$set(t.player,"name",e)},expression:"player.name"}})],1)],1),a("v-card-actions",{staticClass:"pa-3"},[a("v-spacer"),a("v-btn",{attrs:{dark:"",color:"teal"},on:{click:t.onStartQuizClick}},[t._v(" Start the quiz ")])],1)],1)],1),a("v-flex",{attrs:{xs12:"","offset-sm1":"",sm5:""}},[a("leaderboard")],1)],1)],1)],1)},I=[],T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list",{staticClass:"elevation-4",attrs:{subheader:""}},[a("v-subheader",[t._v("All Time Leaderboard")]),t._l(t.leaderboard,function(e,n){return a("v-list-tile",{key:n,attrs:{avatar:""}},[a("v-list-tile-avatar",[a("img",{attrs:{src:e.avatar}})]),a("v-list-tile-content",[a("v-list-tile-title",{domProps:{innerHTML:t._s(e.name)}})],1),a("v-list-tile-action",[a("div",[t._v("\n        "+t._s(e.score)+"\n        "),a("v-icon",{attrs:{color:"teal"}},[t._v(t._s(0===n?"fas fa-trophy":"fas fa-frown"))])],1)])],1)})],2)},O=[],P={name:"leaderboard",computed:{leaderboard:function(){return this.$store.getters.leaderboard}}},E=P,z=(a("ee91"),Object(u["a"])(E,T,O,!1,null,"45798631",null));z.options.__file="Leaderboard.vue";var Q=z.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:!0,persistent:"",width:"300"}},[a("v-card",{attrs:{color:"teal",dark:""}},[a("v-card-text",[t._v("\n      Loading\n      "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)},N=[],M={name:"loader"},D=M,R=Object(u["a"])(D,U,N,!1,null,null,null);R.options.__file="Loader.vue";var J=R.exports,K={components:{Leaderboard:Q,Loader:J},data:function(){return{rules:{notEmpty:[function(t){return!!t||"Name is required"}]},player:{name:""}}},computed:{loading:function(){return this.$store.getters.loading}},methods:{onStartQuizClick:function(){var t=this;this.$refs.form.validate()&&this.$store.dispatch("setPlayer",this.player).then(function(){return t.$router.push("/questions/1")})}}},V=K,G=(a("cccb"),Object(u["a"])(V,A,I,!1,null,null,null));G.options.__file="Home.vue";var H=G.exports,B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"justify-center":"","align-center":"","grid-list-xs":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"","justify-center":"","align-start":"",xs12:"",sm10:"","offset-sm1":""}},[a("v-card",{staticClass:"elevation-4"},[a("v-card-title",{staticClass:"title elevation-2",attrs:{"primary-title":""}},[t._v("\n                "+t._s(t.question.text)+"\n              ")]),a("v-card-text",[a("v-container",{attrs:{"grid-list-xs":""}},[a("v-layout",{attrs:{column:""}},[a("v-flex",{attrs:{xs12:""}},t._l(t.shuffledAnswers,function(e,n){return a("answer",{key:n,attrs:{answer:e},on:{click:function(a){t.onAnswerClick(e)}}})}))],1)],1)],1),a("v-card-actions",[a("v-progress-circular",{attrs:{rotate:-90,size:60,width:10,value:t.value,color:"teal"}},[a("vue-countdown",{attrs:{mode:"seconds","now-time":0,"end-time":20},on:{end:t.onCountdownEnd}})],1),a("v-spacer"),a("v-btn",{attrs:{to:t.nextUrl,flat:""}},[t._v("\n                      Skip\n                  ")])],1)],1)],1)],1)],1)},W=[],X=a("1e90"),Y=a.n(X),F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-btn",{attrs:{block:"",outline:!t.selectedAnswer,color:t.selectedAnswer?t.answer.correct?"green":"red":"indigo"},on:{click:t.onClick}},[t._v("\n            "+t._s(t.answer.text)+"\n    ")])],1)},Z=[],tt={name:"answer",data:function(){return{selectedAnswer:null}},props:{answer:Object},methods:{onClick:function(){this.selectedAnswer=this.answer,this.$emit("click",this.answer)}}},et=tt,at=(a("6501"),Object(u["a"])(et,F,Z,!1,null,null,null));at.options.__file="Answer.vue";var nt=at.exports,rt={name:"question",components:{VueCountdown:Y.a,Answer:nt},data:function(){return{interval:{},value:0,countdown:20}},beforeDestroy:function(){clearInterval(this.interval)},mounted:function(){var t=this;this.interval=setInterval(function(){if(100===t.value)return t.value=0;t.value+=5},1e3)},computed:{score:function(){return this.$store.getters.score},questions:function(){return this.$store.getters.questions},currentId:function(){return this.$route.params.id},question:function(){return this.$store.getters.question(this.currentId)},shuffledAnswers:function(){return this.shuffle(this.question.answers)},nextUrl:function(){var t=parseInt(this.currentId);return t===this.questions.length?"/result":"/questions/".concat(t+1)}},methods:{onCountdownEnd:function(){this.$router.push(this.nextUrl)},shuffle:function(t){var e,a,n;for(n=t.length-1;n>0;n--)e=Math.floor(Math.random()*(n+1)),a=t[n],t[n]=t[e],t[e]=a;return t},onAnswerClick:function(t){var e=this;t.correct&&this.$store.dispatch("addToScore",2),setTimeout(function(){e.$router.push(e.nextUrl)},500)}}},st=rt,ot=(a("4b71"),Object(u["a"])(st,B,W,!1,null,null,null));ot.options.__file="Question.vue";var it=ot.exports,ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"fill-height",attrs:{"grid-list-xs":""}},[a("v-layout",{staticClass:"text-xs-left",attrs:{"d-flex":"","justify-start":"","align-start":"",row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-container",{attrs:{"grid-list-xs":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("transition",{attrs:{name:"headline","enter-active-class":t.headline.class}},[a("h2",{directives:[{name:"show",rawName:"v-show",value:t.headline.show,expression:"headline.show"}],staticClass:"display-2",attrs:{"px-2":""}},[t._v(" Your score is ")])])],1),a("v-flex",{attrs:{xs12:""}},[a("transition",{attrs:{name:"score","enter-active-class":t.score.class}},[a("h1",{directives:[{name:"show",rawName:"v-show",value:t.score.show,expression:"score.show"}],staticClass:"display-2"},[t._v(" "+t._s(t.playerScore)+" ")])])],1),a("v-flex",{attrs:{xs12:""}},[a("transition",{attrs:{name:"name","enter-active-class":t.name.class}},[a("h1",{directives:[{name:"show",rawName:"v-show",value:t.name.show,expression:"name.show"}],staticClass:"display-2"},[t._v("\n                Congrats "+t._s(t.player.name)+"!\n              ")])])],1)],1),a("v-layout",{staticClass:"text-xs-left",attrs:{"d-flex":"","justify-end":"","align-start":"",row:"",wrap:""}},[a("v-flex",{staticClass:"mt-5",attrs:{xs12:""}},[a("transition",{attrs:{name:"tryAgain","enter-active-class":t.button.class}},[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.button.show,expression:"button.show"}],attrs:{color:"success"},on:{click:t.resetGame}},[t._v(" Try Again ")])],1)],1)],1)],1)],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("transition",{attrs:{name:"leaderboard","enter-active-class":t.leaderboard.class}},[a("leaderboard",{directives:[{name:"show",rawName:"v-show",value:t.leaderboard.show,expression:"leaderboard.show"}]})],1)],1)],1)],1)],1)],1)},lt=[],ut=a("890b"),dt=a.n(ut);n["default"].use(dt.a);var ft={name:"result",components:{Leaderboard:Q},data:function(){return{headline:{show:!1,class:""},score:{show:!1,class:""},name:{show:!1,class:""},leaderboard:{show:!1,class:""},button:{show:!1,class:""}}},beforeDestroy:function(){this.$confetti.stop()},mounted:function(){var t=this;this.$store.dispatch("addToLeaderboard").then(function(){t.startAnimations()})},computed:{player:function(){return this.$store.getters.player},playerScore:function(){return this.$store.getters.score}},methods:{startAnimations:function(){var t=this;setTimeout(function(){t.headline.show=!0,t.headline.class="animated slideInLeft"},500),setTimeout(function(){t.score.show=!0,t.score.class="animated slideInLeft"},1500),setTimeout(function(){t.name.show=!0,t.$confetti.start(),t.name.class="animated slideInLeft"},2500),setTimeout(function(){t.leaderboard.show=!0,t.button.show=!0,t.leaderboard.class="animated slideInRight",t.button.class="animated slideInLeft"},4e3)},resetGame:function(){this.$store.dispatch("fetchQuestions"),this.$store.dispatch("resetScore"),this.$router.push("/questions/1")}}},vt=ft,pt=(a("219c"),Object(u["a"])(vt,ct,lt,!1,null,"92d108e2",null));pt.options.__file="Result.vue";var ht=pt.exports;n["default"].use(v["a"]);var mt=function(t,e,a){var n=k.getters.questions;n.length>0?a():a("/")},bt=new v["a"]({routes:[{path:"/",name:"home",component:H},{path:"/questions/:id",name:"question",beforeEnter:mt,component:it},{path:"/result",name:"result",beforeEnter:mt,component:ht}]}),wt=a("a7fe"),gt=a.n(wt);n["default"].use(gt.a,m.a),n["default"].config.productionTip=!1,new n["default"]({router:bt,store:k,render:function(t){return t(f)}}).$mount("#app")},"616c":function(t,e,a){},6501:function(t,e,a){"use strict";var n=a("562f"),r=a.n(n);r.a},"8f59":function(t,e,a){},"956b":function(t,e,a){},b6be:function(t,e,a){},c21b:function(t,e,a){},cccb:function(t,e,a){"use strict";var n=a("8f59"),r=a.n(n);r.a},ee91:function(t,e,a){"use strict";var n=a("616c"),r=a.n(n);r.a}});
//# sourceMappingURL=app.7c79686c.js.map